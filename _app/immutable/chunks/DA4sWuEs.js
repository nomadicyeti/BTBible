import"./Bg9kRutz.js";import{L as Z,p as ua,f as q,a as _a,c as i,r as s,s as O,O as a,t as S,B as P}from"./D2BM3cv1.js";import{l as da,d as V,a as _,t as x,s as p}from"./CRc66pB2.js";import{a as na,i as G}from"./C5aigyhq.js";import{e as U,i as X}from"./BbljCwWF.js";import{t as z,r as ca}from"./DoWIUU7Y.js";import{b as fa}from"./BJx3CnTf.js";import{s as ma,c as K,a as W}from"./BRe-H2Zv.js";import{S as pa,L as ya,N as Sa,O as xa,P as Ta,Q as H,t as ba}from"./B11Zin6s.js";function aa(e,o,v){if(e.multiple)return Ea(e,o);for(var n of e.options){var t=L(n);if(na(t,o)){n.selected=!0;return}}(!v||o!==void 0)&&(e.selectedIndex=-1)}function ga(e,o){Z(()=>{var v=new MutationObserver(()=>{var n=e.__value;aa(e,n)});return v.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{v.disconnect()}})}function ha(e,o,v=o){var n=!0;da(e,"change",t=>{var l=t?"[selected]":":checked",T;if(e.multiple)T=[].map.call(e.querySelectorAll(l),L);else{var N=e.querySelector(l)??e.querySelector("option:not([disabled])");T=N&&L(N)}v(T)}),Z(()=>{var t=o();if(aa(e,t,n),n&&t===void 0){var l=e.querySelector(":checked");l!==null&&(t=L(l),v(t))}e.__value=t,n=!1}),ga(e)}function Ea(e,o){for(var v of e.options)v.selected=~o.indexOf(L(v))}function L(e){return"__value"in e?e.__value:e.value}var Ia=x('<div class="settings-summary py-0 ps-1"> </div>'),Oa=x('<div class="dy-form-control settings-item w-full max-w-lg"><label class="dy-label py-0 cursor-pointer"><div class="settings-title"> </div> <input type="checkbox" class="dy-checkbox"></label> <!></div>'),ka=x("<option> </option>"),Aa=x('<div class="settings-summary py-0"> </div>'),Ga=x('<div class="dy-form-control settings-item w-full max-w-lg"><div class="settings-title py-0"> </div> <select class="dy-select dy-select-ghost dy-select-sm px-0"></select> <!></div>'),Na=x('<div class="settings-summary py-0"> </div>'),wa=x('<div class="dy-form-control settings-item w-full max-w-lg"><div class="settings-title py-0"> </div> <div class="settings-summary py-0"> </div> <!></div>'),Ca=x('<div class="settings-category"> </div> <!>',1);function ja(e,o){ua(o,!0);const[v,n]=ma(),t=()=>W(ba,"$t",v),l=()=>W(H,"$userSettings",v);let T=[];[pa,ya,Sa,xa,Ta].forEach(F=>{const w=o.settings.filter(D=>D.category===F);w.length>0&&(T[F]=w)});var N=V(),ea=q(N);U(ea,17,()=>Object.keys(T),X,(F,w)=>{var D=Ca(),j=q(D),ra=i(j,!0);s(j);var ta=O(j,2);U(ta,17,()=>T[a(w)],X,(sa,r,B)=>{var J=V(),va=q(J);{var ia=k=>{var b=Oa();z(b,"settings-separator",B>0);var C=i(b),R=i(C),M=i(R,!0);s(R);var c=O(R,2);ca(c),s(C);var f=O(C,2);{var g=m=>{var u=Ia(),h=i(u,!0);s(u),S(()=>p(h,t()[a(r).summary])),_(m,u)};G(f,m=>{a(r).summary&&m(g)})}s(b),S(()=>p(M,t()[a(r).title]||a(r).title)),fa(c,()=>l()[a(r).key],m=>K(H,P(l)[a(r).key]=m,P(l))),_(k,b)},oa=k=>{var b=V(),C=q(b);{var R=c=>{var f=Ga();z(f,"settings-separator",B>0);var g=i(f),m=i(g,!0);s(g);var u=O(g,2);U(u,21,()=>a(r).entries??[],X,(d,y,E)=>{var I=ka(),A={},$=i(I,!0);s(I),S(()=>{A!==(A=a(r).values[E])&&(I.value=(I.__value=a(r).values[E])==null?"":a(r).values[E]),p($,t()[a(y)]||a(y))}),_(d,I)}),s(u);var Y=O(u,2);{var Q=d=>{var y=Aa(),E=i(y,!0);s(y),S(()=>p(E,t()[a(r).summary])),_(d,y)};G(Y,d=>{a(r).summary&&d(Q)})}s(f),S(()=>p(m,t()[a(r).title]||a(r).title)),ha(u,()=>l()[a(r).key],d=>K(H,P(l)[a(r).key]=d,P(l))),_(c,f)},M=c=>{var f=V(),g=q(f);{var m=u=>{var h=wa();z(h,"settings-separator",B>0);var Y=i(h),Q=i(Y,!0);s(Y);var d=O(Y,2),y=i(d,!0);s(d);var E=O(d,2);{var I=A=>{var $=Na(),la=i($,!0);s($),S(()=>p(la,t()[a(r).summary])),_(A,$)};G(E,A=>{a(r).summary&&A(I)})}s(h),S(()=>{p(Q,t()[a(r).title]),p(y,a(r).defaultValue)}),_(u,h)};G(g,u=>{a(r).type==="time"&&u(m)},!0)}_(c,f)};G(C,c=>{a(r).type==="list"?c(R):c(M,!1)},!0)}_(k,b)};G(va,k=>{a(r).type==="checkbox"?k(ia):k(oa,!1)})}_(sa,J)}),S(()=>p(ra,t()[a(w)])),_(F,D)}),_(e,N),_a(),n()}export{ja as S};
