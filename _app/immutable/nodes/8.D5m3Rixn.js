import{a1 as Q,h as Z,p as U,j as W,a2 as X,t as Y,q as tt}from"../chunks/B11Zin6s.js";import"../chunks/Bg9kRutz.js";import{i as B}from"../chunks/BxiFlMN0.js";import{t as g,p as L,a9 as h,aa as et,c as s,O as t,s as M,r as i,a as P,a8 as y,a7 as p,aj as F,a0 as ot,f as I}from"../chunks/D2BM3cv1.js";import{a as u,n as at,e as R,t as C,s as S,d as rt}from"../chunks/CRc66pB2.js";import{p as O,i as E}from"../chunks/C5aigyhq.js";import{e as st,i as it}from"../chunks/BbljCwWF.js";import{s as nt,a as G,t as T}from"../chunks/DoWIUU7Y.js";import{s as lt,a as V}from"../chunks/BRe-H2Zv.js";import{g as A}from"../chunks/CroP3Izp.js";import{a as vt}from"../chunks/D9AGIHQB.js";import{N as ct}from"../chunks/Qa4b1zFn.js";var dt=at('<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 96 960 960" width="24"><path d="M600 816v-80h160v80H600Zm0-320v-80h280v80H600Zm0 160v-80h240v80H600ZM120 416H80v-80h160v-60h160v60h160v80h-40v360q0 33-23.5 56.5T440 856H200q-33 0-56.5-23.5T120 776V416Z"></path></svg>');function ft(b,d){let e=O(d,"color",8,"black");var v=dt();g(()=>nt(v,"fill",e())),u(b,v)}async function mt(){return{history:(await Q()).filter(e=>Z.bookCollections.some(v=>v.id===e.collection))}}const Ft=Object.freeze(Object.defineProperty({__proto__:null,load:mt},Symbol.toStringTag,{value:"Module"}));var _t=C('<div class="history-item-book-collection"> </div>'),ht=C('<div class="history-item-block dy-card w-100 bg-base-100 shadow-lg my-4"><div style="text-decoration:none;"><div class="history-card grid grid-cols-1"><!> <div class="history-item-reference justify-self-start"> </div> <div class="history-item-date justify-self-start"> </div></div></div></div>');function yt(b,d){L(d,!1);const e=y(),v=y(),c=y(),D=y(),f=y(),q=y(),w=y(),x=y();let o=O(d,"history",8);function j(){o().url?A(o().url):(U.set({docSet:t(v),book:o().book,chapter:o().chapter,verse:o().verse}),A(W("/")))}h(()=>F(o()),()=>{p(e,Z.bookCollections.find(_=>_.id===o().collection))}),h(()=>t(e),()=>{p(v,t(e).languageCode+"_"+t(e).id)}),h(()=>t(e),()=>{p(c,Z.bookCollections.length==1?null:t(e).collectionName)}),h(()=>(t(e),F(o())),()=>{var _;p(D,(_=t(e).books.find(z=>z.id===o().book))==null?void 0:_.name)}),h(()=>t(e),()=>{p(f,t(e).features["ref-chapter-verse-separator"])}),h(()=>(F(o()),t(f)),()=>{p(q,o().verse?o().chapter+t(f)+o().verse:o().chapter)}),h(()=>F(o()),()=>{p(w,vt(new Date(o().date)))}),h(()=>t(e),()=>{p(x,t(e).style.textDirection)}),et(),B();var k=ht();G(k,"direction","ltr");var N=s(k),H=s(N),l=s(H);{var m=_=>{var z=_t(),K=s(z,!0);i(z),g(()=>S(K,t(c))),u(_,z)};E(l,_=>{t(c)&&_(m)})}var a=M(l,2);const r=ot(()=>t(x).toLowerCase()==="rtl");g(()=>T(a,"justify-self-end",t(r)));var n=s(a);i(a);var $=M(a,2),J=s($,!0);i($),i(H),i(N),i(k),g(()=>{T(H,"grid-rows-2",!t(c)),T(H,"grid-rows-3",t(c)),S(n,`${t(D)??""}
                ${t(q)??""}`),S(J,t(w))}),R("click",N,j),u(b,k),P()}var pt=C('<label for="sidebar"><div class="btn btn-ghost normal-case text-xl"> </div></label>'),ut=C('<button class="dy-btn dy-btn-ghost dy-btn-circle"><!></button>'),gt=C('<div class="history-message-none"> </div> <div class="history-message-none-info"> </div>',1),bt=C('<div class="grid grid-rows-[auto,1fr]" style="height:100vh;height:100dvh;"><div class="navbar"><!></div> <div class="overflow-y-auto p-2.5 max-w-screen-md mx-auto w-full"><!></div></div>');function Mt(b,d){L(d,!1);const[e,v]=lt(),c=()=>V(Y,"$t",e),D=()=>V(tt,"$bodyFontSize",e);let f=O(d,"data",12);async function q(){await X(),f(f().history=[],!0)}B();var w=bt(),x=s(w),o=s(x);ct(o,{center:a=>{var r=pt(),n=s(r),$=s(n,!0);i(n),i(r),g(()=>S($,c().Menu_History)),u(a,r)},end:a=>{var r=ut(),n=s(r);ft(n,{color:"white"}),i(r),R("click",r,q),u(a,r)},$$slots:{center:!0,end:!0}}),i(x);var j=M(x,2),k=s(j);{var N=l=>{var m=gt(),a=I(m),r=s(a,!0);i(a);var n=M(a,2),$=s(n,!0);i(n),g(()=>{S(r,c().History_None),S($,c().History_None_Info)}),u(l,m)},H=l=>{var m=rt(),a=I(m);st(a,1,()=>f().history.reverse(),it,(r,n)=>{yt(r,{get history(){return t(n)}})}),u(l,m)};E(k,l=>{f().history.length===0?l(N):l(H,!1)})}i(j),i(w),g(()=>G(j,"font-size",`${D()??""}px`)),u(b,w),P(),v()}export{Mt as component,Ft as universal};
