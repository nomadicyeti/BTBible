import{$ as U,h as W,p as $,t as X,a0 as Y,j as Z,q as tt}from"../chunks/B11Zin6s.js";import"../chunks/Bg9kRutz.js";import{i as G}from"../chunks/BxiFlMN0.js";import{p as J,c as a,s as h,r as o,t as R,a as K,O as c,a0 as Q,f as N,a7 as T,a8 as et}from"../chunks/D2BM3cv1.js";import{e as q,a as p,t as w,s as S,d as at}from"../chunks/CRc66pB2.js";import{p as v,i as ot,s as I}from"../chunks/C5aigyhq.js";import{e as nt,i as rt}from"../chunks/BbljCwWF.js";import{s as V,b as st,a as it}from"../chunks/DoWIUU7Y.js";import{s as ct,a as F}from"../chunks/BRe-H2Zv.js";import{b as L,g as lt}from"../chunks/CroP3Izp.js";import{p as dt}from"../chunks/BYjJit_y.js";import{b as vt,S as _t}from"../chunks/DT8-hMDk.js";import{C as ft,S as mt,s as ht,t as P,a as ut,d as gt,b as B,c as bt}from"../chunks/BYyn0AOQ.js";import{N as pt}from"../chunks/Qa4b1zFn.js";import{f as St}from"../chunks/D9AGIHQB.js";async function xt({depends:x}){const _=(await U()).filter(u=>W.bookCollections.some(e=>e.id===u.collection));return x("highlights"),{highlights:_}}const Pt=Object.freeze(Object.defineProperty({__proto__:null,load:xt},Symbol.toStringTag,{value:"Module"}));var yt=w('<div class="annotation-item-block dy-card"><div class="color-card svelte-1nhhpt8"><div></div> <div class="annotation-item-reference justify-self-start self-center"><a style="text-decoration:none;"> </a></div> <div class="self-center justify-self-end"><!></div> <div class="annotation-item-text col-start-2 col-end-3"><a style="text-decoration:none;"> </a></div> <div class="annotation-item-date col-span-3 justify-self-end"> </div></div></div>');function At(x,s){J(s,!1);let _=v(s,"docSet",8,""),u=v(s,"book",8,""),e=v(s,"chapter",8,""),y=v(s,"reference",8,""),D=v(s,"text",8,""),H=v(s,"date",8,""),C=v(s,"verse",8,""),j=v(s,"actions",24,()=>[""]),f=v(s,"penColor",8,1);G();var m=yt(),g=a(m),M=a(g);const A=Q(()=>`annotation-item-color ${"hlp"+f().toString()} self-center svelte-1nhhpt8`);var k=h(M,2),b=a(k);V(b,"href",`${L??""}/`);var z=a(b,!0);o(b),o(k);var n=h(k,2),l=a(n);ft(l,{get actions(){return j()},$$events:{menuaction(E){vt.call(this,s,E)}}}),o(n);var i=h(n,2),r=a(i);V(r,"href",`${L??""}/`);var t=a(r,!0);o(r),o(i);var d=h(i,2),O=a(d,!0);o(d),o(g),o(m),R(()=>{st(M,c(A)),S(z,y()),S(t,D()),S(O,H())}),q("click",b,()=>$.set({docSet:_(),book:u(),chapter:e(),verse:C()})),q("click",r,()=>$.set({docSet:_(),book:u(),chapter:e(),verse:C()})),p(x,m),K()}var kt=w('<label for="sidebar"><div class="btn btn-ghost normal-case text-xl"> </div></label>'),Ot=w('<button class="dy-btn dy-btn-ghost dy-btn-circle"><!></button> <!>',1),wt=w('<div class="annotation-message-none"> </div> <div class="annotation-message-none-info"> </div>',1),Ct=w('<div class="grid grid-rows-[auto,1fr]" style="height:100vh;height:100dvh;"><div class="navbar"><!></div> <div class="overflow-y-auto p-2.5 max-w-screen-md mx-auto w-full"><!></div></div>');function Bt(x,s){J(s,!1);const[_,u]=ct(),e=()=>F(X,"$t",_),y=()=>F(dt,"$page",_),D=()=>F(tt,"$bodyFontSize",_);async function H(n,l){switch(n.detail.text){case e().Annotation_Menu_View:$.set(l),lt(Z("/"));break;case e().Annotation_Menu_Share:await ut(l);break;case e().Annotation_Menu_Delete:await Y(l.date);break}}function C(n){switch(n.detail.text){case e().Annotation_Sort_Order_Reference:T(f,bt);break;case e().Annotation_Sort_Order_Date:T(f,B);break;case e().Annotation_Sort_Order_Color:T(f,gt);break}}const j={actions:[e().Annotation_Sort_Order_Reference,e().Annotation_Sort_Order_Date,e().Annotation_Sort_Order_Color]};let f=et(B);G();var m=Ct(),g=a(m),M=a(g);pt(M,{center:i=>{var r=kt(),t=a(r),d=a(t,!0);o(t),o(r),R(()=>S(d,e().Annotation_Highlights)),p(i,r)},end:i=>{var r=Ot(),t=N(r),d=a(t);_t(d,{color:"white"}),o(t);var O=h(t,2);mt(O,I(j,{$$events:{menuaction:E=>C(E)}})),q("click",t,async()=>await ht(P(y().data.highlights,c(f)))),p(i,r)},$$slots:{center:!0,end:!0}}),o(g);var A=h(g,2),k=a(A);{var b=n=>{var l=wt(),i=N(l),r=a(i,!0);o(i);var t=h(i,2),d=a(t,!0);o(t),R(()=>{S(r,e().Annotation_Highlights_None),S(d,e().Annotation_Highlights_None_Info)}),p(n,l)},z=n=>{var l=at(),i=N(l);nt(i,1,()=>P(y().data.highlights,c(f)),rt,(r,t)=>{const d=Q(()=>({docSet:c(t).docSet,book:c(t).book,chapter:c(t).chapter,verse:c(t).verse,reference:c(t).reference,text:c(t).text,date:St(new Date(c(t).date)),actions:[e().Annotation_Menu_View,e().Annotation_Menu_Share,e().Annotation_Menu_Delete],penColor:c(t).penColor}));At(r,I(()=>c(d),{$$events:{menuaction:O=>H(O,c(t))}}))}),p(n,l)};ot(k,n=>{y().data.highlights.length===0?n(b):n(z,!1)})}o(A),o(m),R(()=>it(A,"font-size",`${D()??""}px`)),p(x,m),K(),u()}export{Bt as component,Pt as universal};
