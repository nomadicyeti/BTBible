import{G as V,h as G,t as H,H as J,I as L,y as B,J as K,p as Q,j as U,q as W}from"../chunks/B11Zin6s.js";import"../chunks/Bg9kRutz.js";import{i as X}from"../chunks/BxiFlMN0.js";import{p as Y,t as A,a as Z,c as i,r as c,f as N,s as x,O as e,a7 as O,a8 as tt,a0 as ot}from"../chunks/D2BM3cv1.js";import{a as m,t as p,e as et,d as at,s as y}from"../chunks/CRc66pB2.js";import{i as nt,s as k}from"../chunks/C5aigyhq.js";import{e as st,i as rt}from"../chunks/BbljCwWF.js";import{a as it}from"../chunks/DoWIUU7Y.js";import{s as ct,a as f}from"../chunks/BRe-H2Zv.js";import{g as lt}from"../chunks/CroP3Izp.js";import{p as dt}from"../chunks/BYjJit_y.js";import{I as _t}from"../chunks/CwkBuSIj.js";import{N as mt}from"../chunks/Qa4b1zFn.js";import{S as vt,s as ft,t as I,a as pt,b as D,c as ut}from"../chunks/BYyn0AOQ.js";import{N as bt}from"../chunks/C6HAnJ41.js";import{S as gt}from"../chunks/DT8-hMDk.js";import{f as ht}from"../chunks/D9AGIHQB.js";async function $t({depends:u}){const l=(await V()).filter(b=>G.bookCollections.some(o=>o.id===b.collection));return u("notes"),console.log("Notes",l),{notes:l}}const Gt=Object.freeze(Object.defineProperty({__proto__:null,load:$t},Symbol.toStringTag,{value:"Module"}));var St=p('<label for="sidebar"><div class="btn btn-ghost normal-case text-xl"> </div></label>'),At=p('<button class="dy-btn dy-btn-ghost dy-btn-circle"><!></button> <!>',1),Nt=p('<div class="annotation-message-none"> </div> <div class="annotation-message-none-info"> </div>',1),xt=p('<div class="grid grid-rows-[auto,1fr]" style="height:100vh;height:100dvh;"><div class="navbar"><!></div> <div class="overflow-y-auto p-2.5 max-w-screen-md mx-auto w-full"><!></div></div>');function Ht(u,w){Y(w,!1);const[l,b]=ct(),o=()=>f(H,"$t",l),g=()=>f(dt,"$page",l),E=()=>f(W,"$bodyFontSize",l),C=()=>f(J,"$monoIconColor",l);async function R(a,n){switch(a.detail.text){case o().Annotation_Menu_View:Q.set(n),lt(U("/"));break;case o().Annotation_Menu_Edit:B.open(K,n);break;case o().Annotation_Menu_Share:await pt(n);break;case o().Annotation_Menu_Delete:await L(n.date);break}}function z(a){switch(a.detail.text){case o().Annotation_Sort_Order_Reference:O(v,ut);break;case o().Annotation_Sort_Order_Date:O(v,D);break}}const T={actions:[o().Annotation_Sort_Order_Reference,o().Annotation_Sort_Order_Date]};let v=tt(D);X();var h=xt(),$=i(h),F=i($);mt(F,{center:r=>{var s=St(),t=i(s),d=i(t,!0);c(t),c(s),A(()=>y(d,o().Annotation_Notes)),m(r,s)},end:r=>{var s=At(),t=N(s),d=i(t);gt(d,{color:"white"}),c(t);var _=x(t,2);vt(_,k(T,{$$events:{menuaction:M=>z(M)}})),et("click",t,async()=>await ft(I(g().data.notes,e(v)))),m(r,s)},$$slots:{center:!0,end:!0}}),c($);var S=x($,2),j=i(S);{var q=a=>{var n=Nt(),r=N(n),s=i(r,!0);c(r);var t=x(r,2),d=i(t,!0);c(t),A(()=>{y(s,o().Annotation_Notes_None),y(d,o().Annotation_Notes_None_Info)}),m(a,n)},P=a=>{var n=at(),r=N(n);st(r,1,()=>I(g().data.notes,e(v)),rt,(s,t)=>{const d=ot(()=>({docSet:e(t).docSet,collection:e(t).collection,book:e(t).book,chapter:e(t).chapter,verse:e(t).verse,reference:e(t).reference,text:e(t).text,date:ht(new Date(e(t).date)),actions:[o().Annotation_Menu_View,o().Annotation_Menu_Edit,o().Annotation_Menu_Share,o().Annotation_Menu_Delete]}));_t(s,k(()=>e(d),{$$events:{menuaction:_=>R(_,e(t))},$$slots:{icon:(_,M)=>{bt(_,{slot:"icon",get color(){return C()}})}}}))}),m(a,n)};nt(j,a=>{g().data.notes.length===0?a(q):a(P,!1)})}c(S),c(h),A(()=>it(S,"font-size",`${E()??""}px`)),m(u,h),Z(),b()}export{Ht as component,Gt as universal};
