import{m as q,h as P,t as V,r as G,p as H,j as J,q as K}from"../chunks/B11Zin6s.js";import"../chunks/Bg9kRutz.js";import{i as L}from"../chunks/BxiFlMN0.js";import{p as Q,t as S,a as U,c as i,r as c,f as $,s as A,O as a,a7 as O,a8 as W,a0 as X}from"../chunks/D2BM3cv1.js";import{a as _,t as f,e as Y,d as Z,s as x}from"../chunks/CRc66pB2.js";import{i as tt,s as B}from"../chunks/C5aigyhq.js";import{e as ot,i as at}from"../chunks/BbljCwWF.js";import{a as et}from"../chunks/DoWIUU7Y.js";import{s as rt,a as w}from"../chunks/BRe-H2Zv.js";import{g as nt}from"../chunks/CroP3Izp.js";import{p as st}from"../chunks/BYjJit_y.js";import{I as it}from"../chunks/CwkBuSIj.js";import{N as ct}from"../chunks/Qa4b1zFn.js";import{S as dt,s as lt,t as D,a as mt,b as R,c as _t}from"../chunks/BYyn0AOQ.js";import{B as vt}from"../chunks/BjPkPfXL.js";import{S as ft}from"../chunks/DT8-hMDk.js";import{f as pt}from"../chunks/D9AGIHQB.js";async function ut({depends:p}){const l=(await q()).filter(u=>P.bookCollections.some(o=>o.id===u.collection));return p("bookmarks"),{bookmarks:l}}const Tt=Object.freeze(Object.defineProperty({__proto__:null,load:ut},Symbol.toStringTag,{value:"Module"}));var kt=f('<label for="sidebar"><div class="btn btn-ghost normal-case text-xl"> </div></label>'),bt=f('<button class="dy-btn dy-btn-ghost dy-btn-circle"><!></button> <!>',1),gt=f('<div class="annotation-message-none"> </div> <div class="annotation-message-none-info"> </div>',1),ht=f('<div class="grid grid-rows-[auto,1fr]" style="height:100vh;height:100dvh;"><div class="navbar"><!></div> <div id="bookmarks" class="overflow-y-auto p-2.5 max-w-screen-md mx-auto w-full"><!></div></div>');function jt(p,y){Q(y,!1);const[l,u]=rt(),o=()=>w(V,"$t",l),k=()=>w(st,"$page",l),z=()=>w(K,"$bodyFontSize",l);async function E(e,r){switch(e.detail.text){case o().Annotation_Menu_View:H.set(r),nt(J("/"));break;case o().Annotation_Menu_Share:await mt(r);break;case o().Annotation_Menu_Delete:await G(r.date);break}}function I(e){switch(e.detail.text){case o().Annotation_Sort_Order_Reference:O(v,_t);break;case o().Annotation_Sort_Order_Date:O(v,R);break}}const N={actions:[o().Annotation_Sort_Order_Reference,o().Annotation_Sort_Order_Date]};let v=W(R);L();var b=ht(),g=i(b),C=i(g);ct(C,{center:s=>{var n=kt(),t=i(n),d=i(t,!0);c(t),c(n),S(()=>x(d,o().Annotation_Bookmarks)),_(s,n)},end:s=>{var n=bt(),t=$(n),d=i(t);ft(d,{color:"white"}),c(t);var m=A(t,2);dt(m,B(N,{$$events:{menuaction:M=>I(M)}})),Y("click",t,async()=>await lt(D(k().data.bookmarks,a(v)))),_(s,n)},$$slots:{center:!0,end:!0}}),c(g);var h=A(g,2),F=i(h);{var T=e=>{var r=gt(),s=$(r),n=i(s,!0);c(s);var t=A(s,2),d=i(t,!0);c(t),S(()=>{x(n,o().Annotation_Bookmarks_None),x(d,o().Annotation_Bookmarks_None_Info)}),_(e,r)},j=e=>{var r=Z(),s=$(r);ot(s,1,()=>D(k().data.bookmarks,a(v)),at,(n,t)=>{const d=X(()=>({docSet:a(t).docSet,collection:a(t).collection,book:a(t).book,chapter:a(t).chapter,verse:a(t).verse,reference:a(t).reference,text:a(t).text,date:pt(new Date(a(t).date)),actions:[o().Annotation_Menu_View,o().Annotation_Menu_Share,o().Annotation_Menu_Delete]}));it(n,B(()=>a(d),{$$events:{menuaction:m=>E(m,a(t))},$$slots:{icon:(m,M)=>{vt(m,{slot:"icon",color:"#b10000"})}}}))}),_(e,r)};tt(F,e=>{k().data.bookmarks.length===0?e(T):e(j,!1)})}c(h),c(b),S(()=>et(h,"font-size",`${z()??""}px`)),_(p,b),U(),u()}export{jt as component,Tt as universal};
