import"../chunks/Bg9kRutz.js";import{i as Ft}from"../chunks/BxiFlMN0.js";import{t as _,p as Mt,aK as ye,c as o,O as t,s as a,r as e,a as Lt,f as ut,B as kt,a0 as dt,a9 as _t,a7 as z,aj as Ht,aa as jt,a8 as T,z as Et,aU as de,aV as bo,n as ho}from"../chunks/D2BM3cv1.js";import{a as r,n as Zt,s as B,e as J,t as m,d as Vt,r as po,j as $o}from"../chunks/CRc66pB2.js";import{p as rt,i as L}from"../chunks/C5aigyhq.js";import{s as Ue}from"../chunks/2lDRtucq.js";import{s as H,a as w,r as Je,t as ue,b as Ve}from"../chunks/DoWIUU7Y.js";import{b as St}from"../chunks/BuXNm5Ru.js";import{s as It,a as k,c as Kt,b as Nt,m as fe}from"../chunks/BRe-H2Zv.js";import{b as Dt,g as wt}from"../chunks/CroP3Izp.js";import{D as qe,a as Qe,T as yo,b as re}from"../chunks/BLnmyPzY.js";import{C as ne,h as Z,ah as Ut,aa as Jt,ai as At,t as oe,aj as Gt,F as se,E as Ot,p as Xt,ac as wo,ak as Ge,H as We,al as we,am as xo,an as Ee,ao as ko,ap as So,q as $e,u as Co,y as ae,B as Xe,j as xt,M as to,R as je,ab as Fo,d as xe,_ as Wt,x as Mo,aq as Yt,a4 as Ze,ar as eo,D as Re,K as Lo,as as Ye,a9 as ge,af as Io,J as Bo,at as zo}from"../chunks/B11Zin6s.js";import{C as oo,S as Oo}from"../chunks/lVA9ZTpj.js";import{e as te,i as ee}from"../chunks/BbljCwWF.js";import{M as ie,B as Po,H as Ao,I as Ke}from"../chunks/lO4mR0Ld.js";import{a as ao,b as Do}from"../chunks/BJx3CnTf.js";import{c as Ho}from"../chunks/EgJd3ViG.js";import{B as To}from"../chunks/BjPkPfXL.js";import{N as No}from"../chunks/C6HAnJ41.js";import{S as Vo}from"../chunks/53vWaFaO.js";import{S as qo}from"../chunks/DT8-hMDk.js";import{T as ro}from"../chunks/Yb6izfNT.js";import{d as Qo}from"../chunks/Kf3rE6wE.js";var Eo=Zt('<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path d="M11 17h2v-6h-2Zm1-8q.425 0 .713-.288Q13 8.425 13 8t-.287-.713Q12.425 7 12 7t-.712.287Q11 7.575 11 8t.288.712Q11.575 9 12 9Zm0 13q-2.075 0-3.9-.788-1.825-.787-3.175-2.137-1.35-1.35-2.137-3.175Q2 14.075 2 12t.788-3.9q.787-1.825 2.137-3.175 1.35-1.35 3.175-2.138Q9.925 2 12 2t3.9.787q1.825.788 3.175 2.138 1.35 1.35 2.137 3.175Q22 9.925 22 12t-.788 3.9q-.787 1.825-2.137 3.175-1.35 1.35-3.175 2.137Q14.075 22 12 22Z"></path></svg>');function jo(A,c){let n=rt(c,"color",8,"black");var C=Eo();_(()=>H(C,"fill",n())),r(A,C)}var Zo=Zt('<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path d="M12 12q-1.65 0-2.825-1.175Q8 9.65 8 8q0-1.65 1.175-2.825Q10.35 4 12 4q1.65 0 2.825 1.175Q16 6.35 16 8q0 1.65-1.175 2.825Q13.65 12 12 12Zm-8 8v-2.8q0-.85.438-1.563.437-.712 1.162-1.087 1.55-.775 3.15-1.163Q10.35 13 12 13t3.25.387q1.6.388 3.15 1.163.725.375 1.162 1.087Q20 16.35 20 17.2V20Z"></path></svg>');function Ro(A,c){let n=rt(c,"color",8,"black");var C=Zo();_(()=>H(C,"fill",n())),r(A,C)}var Yo=Zt('<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path d="m19.3 8.925-4.25-4.2 1.4-1.4q.575-.575 1.413-.575.837 0 1.412.575l1.4 1.4q.575.575.6 1.388.025.812-.55 1.387ZM17.85 10.4 7.25 21H3v-4.25l10.6-10.6Z"></path></svg>');function Ko(A,c){let n=rt(c,"color",8,"black");var C=Yo();_(()=>H(C,"fill",n())),r(A,C)}var Uo=Zt('<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path d="M12 21q-3.45 0-6.012-2.288Q3.425 16.425 3.05 13H5.1q.35 2.6 2.312 4.3Q9.375 19 12 19q2.925 0 4.962-2.038Q19 14.925 19 12t-2.038-4.963Q14.925 5 12 5q-1.725 0-3.225.8T6.25 8H9v2H3V4h2v2.35q1.275-1.6 3.113-2.475Q9.95 3 12 3q1.875 0 3.513.712 1.637.713 2.85 1.925 1.212 1.213 1.925 2.85Q21 10.125 21 12t-.712 3.512q-.713 1.638-1.925 2.85-1.213 1.213-2.85 1.926Q13.875 21 12 21Zm2.8-4.8L11 12.4V7h2v4.6l3.2 3.2Z"></path></svg>');function Jo(A,c){let n=rt(c,"color",8,"black");var C=Uo();_(()=>H(C,"fill",n())),r(A,C)}var Go=Zt('<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg>');function Wo(A,c){let n=rt(c,"color",8,"black");var C=Go();_(()=>H(C,"fill",n())),r(A,C)}var Xo=Zt('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M3 15h8v-2H3v2zm0 4h8v-2H3v2zm0-8h8V9H3v2zm0-6v2h8V5H3zm10 0h8v14h-8V5z"></path></svg>');function ta(A,c){let n=rt(c,"color",8,"white");var C=Xo();_(()=>H(C,"fill",n())),r(A,C)}var ea=Zt('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M0 0h24v24H0z" fill="none"></path><path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"></path></svg>');function oa(A,c){let n=rt(c,"color",8,"white");var C=ea();_(()=>H(C,"fill",n())),r(A,C)}var aa=m('<div class="layout-image-block" style="width:15%"><img class="layout-image"></div>'),ra=m('<div class="layout-item-description"> </div>'),na=m('<li><a class="flex justify-between" role="button"><div class="layout-item-block"><!> <div class="layout-text-block"><div class="layout-item-name"> </div> <!></div></div></a></li>'),sa=m('<ul class="dy-menu dy-menu-compact"></ul>');function be(A,c){Mt(c,!1);const[n,C]=It(),l=()=>k(ne,"$themeColors",n);let Q=rt(c,"docSets",24,()=>[]),O=rt(c,"selectedLayouts",8);const E=ye();function S(x){E("menuaction",{collection:x})}Ft();var F=sa();te(F,5,Q,ee,(x,p)=>{var v=na(),b=o(v),h=o(b),Y=o(h);{var K=i=>{var y=aa(),V=o(y);e(y),_(()=>H(V,"src",`${Dt??""}/illustrations/${t(p).image??""}`)),r(i,y)};L(Y,i=>{t(p).image&&i(K)})}var d=a(Y,2),P=o(d),M=o(P,!0);e(P);var D=a(P,2);{var N=i=>{var y=ra(),V=o(y,!0);e(y),_(()=>B(V,t(p).description)),r(i,y)};L(D,i=>{t(p).description&&i(N)})}e(d),e(h),e(b),e(v),_(()=>{w(b,"background-color",O().id===t(p).id?l().LayoutItemSelectedBackgroundColor:""),B(M,t(p).name)}),J("click",b,()=>S(t(p))),r(x,v)}),e(F),r(A,F),Lt(),C()}var ia=m('<p class="py-2"> </p> <!>',1),la=m('<div class="text-sm"> </div>'),ca=m('<div class="px-3"></div> <div class="dy-relative font-normal normal-case text-left"><div> </div> <!></div> <div class="px-3"><!></div>',1),va=m("<div><!></div>"),da=m('<p class="py-2"> </p> <div class="flex flex-col"></div>',1),ua=m('<div class="text-sm"> </div>'),_a=m('<div class="px-3"></div> <div class="dy-relative font-normal normal-case text-left"><div> </div> <!></div> <div class="px-3"><!></div>',1),ma=m("<div><!></div>"),fa=m('<p class="py-2"> </p> <!>',1),ga=m("<div><!></div>");function he(A,c){Mt(c,!1);const[n,C]=It(),l=()=>k(At,"$selectedLayouts",n),Q=()=>k(ne,"$themeColors",n),O=()=>k(oe,"$t",n),E=()=>k(se,"$s",n),S=ye();let F=rt(c,"layoutOption",8);const x={id:"",name:"--------",singlePane:!1,description:""},p=Z.bookCollections.map(d=>({id:d.languageCode+"_"+d.id,name:d.collectionName,singlePane:(d==null?void 0:d.features["bc-allow-single-pane"])??(d==null?void 0:d.features["bc-layout-allow-single-pane"]),description:d==null?void 0:d.collectionDescription,image:d==null?void 0:d.collectionImage}));function v(d,P){const M=d.detail.collection;switch(F()){case Ut:Kt(At,kt(l).singlePane=M,kt(l));break;case Jt:Kt(At,kt(l).sideBySide[P]=M,kt(l));for(let D=0;D<l().sideBySide.length;D++)D!==P&&l().sideBySide[D].id===M.id&&Kt(At,kt(l).sideBySide[D]=p.filter(N=>l().sideBySide.includes(N)===!1)[0],kt(l));break;case Gt:Kt(At,kt(l).verseByVerse[P]=M,kt(l));for(let D=0;D<l().verseByVerse.length;D++)D!==P&&l().verseByVerse[D].id===M.id&&Kt(At,kt(l).verseByVerse[D]=p.filter(N=>l().verseByVerse.includes(N)===!1)[0],kt(l));break}S("menuaction",{collection:d}),document.activeElement.blur()}Ft();var b=ga(),h=o(b);{var Y=d=>{var P=ia(),M=ut(P),D=o(M,!0);e(M);var N=a(M,2),i=dt(()=>p.filter(y=>y.singlePane===!0));be(N,{get docSets(){return t(i)},get selectedLayouts(){return l().singlePane},$$events:{menuaction:y=>v(y,0)}}),_(()=>{w(M,"color",Q().LayoutTitleColor),B(D,O().Layout_Single_Pane)}),r(d,P)},K=d=>{var P=Vt(),M=ut(P);{var D=i=>{var y=da(),V=ut(y),nt=o(V,!0);e(V);var et=a(V,2);te(et,5,()=>l().sideBySide,ee,(R,G,mt)=>{var W=va(),st=o(W);qe(st,{$$slots:{label:(U,f)=>{var $=ca(),X=ut($);const bt=dt(()=>Ot(E()["ui.layouts.number"]));X.textContent=`${mt+1}.`;var it=a(X,2),lt=o(it);const ft=dt(()=>Ot(E()["ui.layouts.title"]));var Bt=o(lt,!0);e(lt);var ht=a(lt,2);{var $t=ot=>{var q=la();const tt=dt(()=>Ot(E()["ui.layouts.selector"]));var at=o(q,!0);e(q),_(()=>{H(q,"style",t(tt)),B(at,t(G).description)}),r(ot,q)};L(ht,ot=>{t(G).description&&ot($t)})}e(it);var Ct=a(it,2),Pt=o(Ct);Qe(Pt,{get color(){return E()["ui.layouts.selector"].color}}),e(Ct),_(()=>{H(X,"style",t(bt)),H(lt,"style",t(ft)),B(Bt,t(G).name)}),r(U,$)},content:(U,f)=>{be(U,{docSets:p,get selectedLayouts(){return t(G)},$$events:{menuaction:$=>{v($,mt)}}})}}}),e(W),r(R,W)}),e(et),_(()=>{w(V,"color",Q().LayoutTitleColor),B(nt,O().Layout_Two_Pane)}),r(i,y)},N=i=>{var y=Vt(),V=ut(y);{var nt=et=>{var R=fa(),G=ut(R),mt=o(G,!0);e(G);var W=a(G,2);te(W,1,()=>l().verseByVerse,ee,(st,U,f)=>{var $=ma(),X=o($);qe(X,{$$slots:{label:(bt,it)=>{var lt=_a(),ft=ut(lt);const Bt=dt(()=>Ot(E()["ui.layouts.number"]));ft.textContent=`${f+1}.`;var ht=a(ft,2),$t=o(ht);const Ct=dt(()=>Ot(E()["ui.layouts.title"]));var Pt=o($t,!0);e($t);var ot=a($t,2);{var q=gt=>{var pt=ua();const yt=dt(()=>Ot(E()["ui.layouts.selector"]));var qt=o(pt,!0);e(pt),_(()=>{H(pt,"style",t(yt)),B(qt,t(U).description)}),r(gt,pt)};L(ot,gt=>{t(U).description&&gt(q)})}e(ht);var tt=a(ht,2),at=o(tt);Qe(at,{get color(){return E()["ui.layouts.selector"].color}}),e(tt),_(()=>{H(ft,"style",t(Bt)),H($t,"style",t(Ct)),B(Pt,t(U).name)}),r(bt,lt)},content:(bt,it)=>{var lt=dt(()=>f===2?[x,...p]:p);be(bt,{get docSets(){return t(lt)},get selectedLayouts(){return t(U)},$$events:{menuaction:ft=>v(ft,f)}})}}}),e($),r(st,$)}),_(()=>{w(G,"color",Q().LayoutTitleColor),B(mt,O().Layout_Interlinear)}),r(et,R)};L(V,et=>{F()===Gt&&et(nt)},!0)}r(i,y)};L(M,i=>{F()===Jt?i(D):i(N,!1)},!0)}r(d,P)};L(h,d=>{F()===Ut?d(Y):d(K,!1)})}e(b),r(A,b),Lt(),C()}var ba=m('<!> <div class="flex w-full justify-between dy-modal-action"><button class="dy-btn dy-btn-sm dy-btn-ghost no-animation"> </button> <button class="dy-btn dy-btn-sm dy-btn-ghost no-animation"> </button></div>',1);function ha(A,c){Mt(c,!1);const[n,C]=It(),l=()=>k(At,"$selectedLayouts",n),Q=()=>k(Xt,"$refs",n),O=()=>k(se,"$s",n),E=()=>k(oe,"$t",n),S=T(),F=T(),x=T(),p=T(),v="collectionSelector";let b=T(),h=T();const Y=JSON.stringify(l());function K(){t(b).showModal()}function d(){const i=At.collections(t(h).active);return{mode:t(h).active,primaryDocSet:i[0].id,auxDocSets:i.slice(1).map(y=>y.id)}}let P=rt(c,"vertOffset",8,"1rem");function M(){const i=d();Kt(Xt,kt(Q).docSet=i.primaryDocSet,kt(Q)),Nt(wo,i)}function D(){Nt(At,JSON.parse(Y))}_t(()=>Ut,()=>{z(S,Z.layouts.find(i=>i.mode===Ut).enabled)}),_t(()=>Jt,()=>{z(F,Z.layouts.find(i=>i.mode===Jt).enabled)}),_t(()=>Gt,()=>{z(x,Z.layouts.find(i=>i.mode===Gt).enabled)}),_t(()=>Ht(P()),()=>{z(p,"position:absolute; top:"+(Number(P().replace("rem",""))+1)+"rem; inset-inline-end:1rem;")}),jt(),Ft(),St(ie(A,{id:v,useLabel:!1,$$slots:{content:(i,y)=>{var V=ba(),nt=ut(V),et=dt(()=>({[Ut]:{tab:{component:oa},component:he,props:{layoutOption:Ut},visible:t(S)},[Jt]:{tab:{component:ta},component:he,props:{layoutOption:Jt},visible:t(F)},[Gt]:{tab:{component:oo},component:he,props:{layoutOption:Gt},visible:t(x)}}));St(yo(nt,{get options(){return t(et)},scroll:!0,$$legacy:!0}),$=>z(h,$),()=>t(h));var R=a(nt,2),G=o(R);const mt=dt(()=>Ot(O()["ui.dialog.button"]));var W=o(G,!0);e(G);var st=a(G,2);const U=dt(()=>Ot(O()["ui.dialog.button"]));var f=o(st,!0);e(st),e(R),_(()=>{H(G,"style",t(mt)),B(W,E().Button_Cancel),H(st,"style",t(U)),B(f,E().Button_OK)}),J("click",G,()=>D()),J("click",st,()=>M()),r(i,V)}},$$legacy:!0}),i=>z(b,i),()=>t(b)),re(c,"showModal",K);var N=Lt({showModal:K});return C(),N}var pa=m('<li><a role="button"> </a></li>'),$a=m('<ul class="dy-menu"></ul>');function ya(A,c){Mt(c,!1);const[n,C]=It(),l=()=>k(Ge,"$fontChoices",n),Q=()=>k(ne,"$themeColors",n),O=()=>k(We,"$monoIconColor",n),E=ye();let S=rt(c,"selectedFont",12);function F(v){S(v),E("menuaction",{font:v})}Ft();var x=$a();te(x,5,l,ee,(v,b)=>{var h=pa();w(h,"font-size","large");var Y=o(h),K=o(Y,!0);_(()=>B(K,Z.fonts.find(d=>d.family===t(b)).name)),e(Y),e(h),_(()=>{w(h,"font-family",t(b)),w(Y,"background-color",t(b)===S()?Q().ButtonSelectedColor:""),w(Y,"color",O()),w(Y,"font-famly",t(b))}),J("click",Y,()=>F(t(b))),r(v,h)}),e(x),r(A,x);var p=Lt({get selectedFont(){return S()},set selectedFont(v){S(v),Et()}});return C(),p}var wa=m('<!> <div class="flex w-full justify-between dy-modal-action"><button class="dy-btn dy-btn-sm dy-btn-ghost no-animation"> </button> <button class="dy-btn dy-btn-sm dy-btn-ghost no-animation"> </button></div>',1);function xa(A,c){Mt(c,!1);const[n,C]=It(),l=()=>k(we,"$currentFont",n),Q=()=>k(Xt,"$refs",n),O=()=>k(se,"$s",n),E=()=>k(oe,"$t",n),S="fontSelector";let F=T(),x=T();function p(){de(x,t(x).selectedFont=l()),t(F).showModal()}function v(){xo.update(h=>(h[Q().collection]=t(x).selectedFont,h))}Ft(),St(ie(A,{id:S,useLabel:!1,$$slots:{content:(h,Y)=>{var K=wa(),d=ut(K);St(ya(d,{get selectedFont(){return l()},$$legacy:!0}),nt=>z(x,nt),()=>t(x));var P=a(d,2),M=o(P);const D=dt(()=>Ot(O()["ui.dialog.button"]));var N=o(M,!0);e(M);var i=a(M,2);const y=dt(()=>Ot(O()["ui.dialog.button"]));var V=o(i,!0);e(i),e(P),_(()=>{H(M,"style",t(D)),B(N,E().Button_Cancel),H(i,"style",t(y)),B(V,E().Button_OK)}),J("click",i,()=>v()),r(h,K)}},$$legacy:!0}),h=>z(F,h),()=>t(F)),re(c,"showModal",p);var b=Lt({showModal:p});return C(),b}var ka=m("<button><!></button>"),Sa=m('<textarea class="dy-textarea w-full"></textarea>'),Ca=m("<p> </p>"),Fa=m("<br>"),Ma=m('<div class="w-full flex mt-4 justify-between"><button class="dy-btn dy-btn-sm dy-btn-ghost"> </button> <button class="dy-btn dy-btn-sm dy-btn-ghost"> </button></div>'),La=m('<div class="flex flex-col justify-evenly"><div class="w-full flex justify-between"><div class="w-full pb-3"> </div> <!></div> <div><!></div> <!></div>');function Ia(A,c){Mt(c,!1);const[n,C]=It(),l=()=>k(oe,"$t",n),Q=()=>k(Ee,"$selectedVerses",n),O=()=>k(we,"$currentFont",n),E=()=>k($e,"$bodyFontSize",n),S=T();let F=rt(c,"note",12,void 0),x=rt(c,"editing",12,!1),p="note",v=T(),b=T(),h=T();function Y(){F()!==void 0?(z(h,F().text),z(b,"Annotation_Note_Edit")):(x(!0),z(b,"Annotation_Note_Add")),t(v).showModal()}function K(){z(h,""),x(!1),Ee.reset()}async function d(){F()!==void 0?await ko({note:F(),newText:t(h)}):await So({docSet:Q()[0].docSet,collection:Q()[0].collection,book:Q()[0].book,chapter:Q()[0].chapter,verse:Q()[0].verse,text:t(h),reference:Q()[0].reference})}_t(()=>(Ht(x()),l(),t(b),Ht(F())),()=>{var M;z(S,x()?l()[t(b)]??"":((M=F())==null?void 0:M.reference)??"")}),jt(),Ft(),St(ie(A,{id:p,useLabel:!1,$$events:{close:K},$$slots:{content:(M,D)=>{var N=La(),i=o(N),y=o(i),V=o(y,!0);e(y);var nt=a(y,2);{var et=f=>{var $=ka(),X=o($);Ko(X,{}),e($),J("click",$,()=>{x(!0)}),r(f,$)};L(nt,f=>{x()||f(et)})}e(i);var R=a(i,2);w(R,"word-wrap","break-word");var G=o(R);{var mt=f=>{var $=Sa();po($),ao($,()=>t(h),X=>z(h,X)),r(f,$)},W=f=>{var $=Vt(),X=ut($);{var bt=it=>{var lt=Vt(),ft=ut(lt);te(ft,1,()=>t(h).split(/\r?\n/),ee,(Bt,ht)=>{var $t=Vt(),Ct=ut($t);{var Pt=q=>{var tt=Ca(),at=o(tt,!0);e(tt),_(()=>{w(tt,"font-family",O()),w(tt,"font-size",`${E()??""}px`),B(at,t(ht))}),r(q,tt)},ot=q=>{var tt=Fa();r(q,tt)};L(Ct,q=>{t(ht)?q(Pt):q(ot,!1)})}r(Bt,$t)}),r(it,lt)};L(X,it=>{t(h)!==void 0&&it(bt)},!0)}r(f,$)};L(G,f=>{x()?f(mt):f(W,!1)})}e(R);var st=a(R,2);{var U=f=>{var $=Ma(),X=o($),bt=o(X,!0);e(X);var it=a(X,2),lt=o(it,!0);e(it),e($),_(()=>{B(bt,l().Button_Cancel),B(lt,l().Button_OK)}),J("click",it,d),r(f,$)};L(st,f=>{x()&&f(U)})}e(N),_(()=>{w(y,"font-weight",x()?"normal":"bold"),B(V,t(S))}),r(M,N)}},$$legacy:!0}),M=>z(v,M),()=>t(v)),re(c,"showModal",Y);var P=Lt({showModal:Y,get note(){return F()},set note(M){F(M),Et()},get editing(){return x()},set editing(M){x(M),Et()}});return C(),P}var Ba=m('<li><button class="btn"><!> </button></li>'),za=m('<li><button class="btn"><!> </button></li>'),Oa=m('<li><button class="btn"><!> </button></li>'),Pa=m('<li><button class="btn"><!> </button></li>'),Aa=m('<div class="dy-divider m-1"></div>'),Da=m('<li><button class="btn"><!> </button></li>'),Ha=m('<li><button class="btn"><!> </button></li>'),Ta=m('<li><button class="btn"><!> </button></li>'),Na=m('<li><button class="btn"><!> </button></li>'),Va=m('<div class="dy-divider m-1"></div>'),qa=m('<li><button class="btn"><!> </button></li> <div class="dy-divider m-1"></div>',1),Qa=m('<li><button class="btn"><!> </button></li>'),Ea=m('<li><button class="btn"><!> </button></li>'),ja=m("<source>"),Za=m('<li class="svelte-k9cii8"><a target="_blank" rel="noreferrer" class="svelte-k9cii8"><picture><!> <img height="24" width="24"></picture> </a></li>'),Ra=m('<div class="dy-drawer"><input type="checkbox" class="dy-drawer-toggle"> <div class="dy-drawer-content flex flex-col"><!></div> <div class="dy-drawer-side" role="navigation"><div class="dy-drawer-overlay"></div> <ul class="dy-menu p-1 w-3/4 sm:w-80 text-base-content min-h-full svelte-k9cii8"><a class="fill svelte-k9cii8"><picture><source> <img alt="Drawer Header" style="width:auto;" class="svelte-k9cii8"></picture></a> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <li><button class="btn"><!> </button></li> <div class="dy-divider m-1"></div> <!> <li><button class="btn"><!> </button></li></ul></div></div>');function Ya(A,c){var Pe,Ae,De;Mt(c,!1);const[n,C]=It(),l=()=>k(se,"$s",n),Q=()=>k(ne,"$themeColors",n),O=()=>k(Fo,"$showDesktopSidebar",n),E=()=>k(xe,"$direction",n),S=()=>k(oe,"$t",n),F=()=>k(Xt,"$refs",n),x=()=>k(Wt,"$theme",n),p=()=>k(Mo,"$language",n),v=T(),b=T(),h=T(),Y=T(),K="sidebar";let d=T(!1);function P(){z(d,!1)}function M(s){s.key==="Escape"&&P()}const D=(Pe=Z)==null?void 0:Pe.menuItems,N=Z.mainFeatures["layout-config-change-nav-drawer-menu"]&&Z.bookCollections.length>1,i=((Ae=Ho.screens)==null?void 0:Ae.length)>0,y=Z.mainFeatures.search,V=Z.mainFeatures.history,nt=Co.length,et=Z.mainFeatures["annotation-bookmarks"],R=Z.mainFeatures["annotation-notes"],G=Z.mainFeatures["annotation-highlights"],mt=((De=Z.plans)==null?void 0:De.plans.length)>0,W=Z.mainFeatures["share-app-link"]||Z.mainFeatures["share-download-app-link"]||Z.mainFeatures["share-apk-file"]||Z.mainFeatures["share-apple-app-link"],st=Z.firebase.features["firebase-database"]&&Z.mainFeatures["user-accounts"];function U(s,g){const u=Number(g[0].width);return g.map(I=>{const zt=Number(I.width)/u,Rt=zt===1?"":" "+(zt%1===0?zt.toFixed(0):zt.toFixed(1))+"x";return`${s}/${I.file}${Rt}`}).join(", ")}_t(()=>l(),()=>{z(v,l()["ui.drawer.item.text"].color)}),_t(()=>(l(),Q()),()=>{var s;z(b,((s=l()["ui.drawer.item.icon"])==null?void 0:s.color)||Q().DrawItemIconColor)}),_t(()=>l(),()=>{z(h,l()["ui.background"]["background-color"])}),_t(()=>l(),()=>{z(Y,l()["ui.drawer"]["background-color"])}),jt(),Ft();var f=Ra();J("keydown",bo,M);var $=o(f);Je($),H($,"id",K);var X=a($,2),bt=o(X);Ue(bt,c,"default",{}),e(X);var it=a(X,2),lt=a(o(it),2),ft=o(lt);H(ft,"href",`${Dt??""}/`);var Bt=o(ft),ht=o(Bt);H(ht,"srcset",`${Dt??""}/images/nav_drawer@2x.png 2x`);var $t=a(ht,2);H($t,"src",`${Dt??""}/images/nav_drawer.png`),e(Bt),e(ft);var Ct=a(ft,2);{var Pt=s=>{var g=Ba(),u=o(g),I=o(u);Ro(I,{get color(){return t(b)}});var j=a(I,1,!0);e(u),e(g),_(()=>{w(u,"color",t(v)),B(j,S().Account_Page_Title)}),J("click",u,()=>wt(xt("/account"))),r(s,g)};L(Ct,s=>{st&&s(Pt)})}var ot=a(Ct,2);{var q=s=>{var g=za(),u=o(g),I=o(u);Wo(I,{get color(){return t(b)}});var j=a(I,1,!0);e(u),e(g),_(()=>{w(u,"color",t(v)),B(j,S().Menu_Contents)}),J("click",u,()=>wt(xt("/contents/1"))),r(s,g)};L(ot,s=>{i&&s(q)})}var tt=a(ot,2);{var at=s=>{var g=Oa(),u=o(g),I=o(u);Vo(I,{get color(){return t(b)}});var j=a(I,1,!0);e(u),e(g),_(()=>{w(u,"color",t(v)),B(j,S().Menu_Search)}),J("click",u,()=>wt(xt(`/search/${F().collection}`))),r(s,g)};L(tt,s=>{y&&s(at)})}var gt=a(tt,2);{var pt=s=>{var g=Pa(),u=o(g),I=o(u);Po(I,{get color(){return t(b)}});var j=a(I,1,!0);e(u),e(g),_(()=>{w(u,"color",t(v)),B(j,S().Menu_Layout)}),J("click",u,()=>ae.open(to)),r(s,g)};L(gt,s=>{N&&s(pt)})}var yt=a(gt,2);{var qt=s=>{var g=Aa();r(s,g)};L(yt,s=>{(st||y||N)&&s(qt)})}var ct=a(yt,2);{var vt=s=>{var g=Da(),u=o(g),I=o(u);Jo(I,{get color(){return t(b)}});var j=a(I,1,!0);e(u),e(g),_(()=>{w(u,"color",t(v)),B(j,S().Menu_History)}),J("click",u,()=>wt(xt("/history"))),r(s,g)};L(ct,s=>{V&&s(vt)})}var Tt=a(ct,2);{var Qt=s=>{var g=Ha(),u=o(g),I=o(u);To(I,{get color(){return t(b)}});var j=a(I,1,!0);e(u),e(g),_(()=>{w(u,"color",t(v)),B(j,S().Annotation_Bookmarks)}),J("click",u,()=>wt(xt("/bookmarks"))),r(s,g)};L(Tt,s=>{et&&s(Qt)})}var ke=a(Tt,2);{var no=s=>{var g=Ta(),u=o(g),I=o(u);No(I,{get color(){return t(b)}});var j=a(I,1,!0);e(u),e(g),_(()=>{w(u,"color",t(v)),B(j,S().Annotation_Notes)}),J("click",u,()=>wt(xt("/notes"))),r(s,g)};L(ke,s=>{R&&s(no)})}var Se=a(ke,2);{var so=s=>{var g=Na(),u=o(g),I=o(u);Ao(I,{get color(){return t(b)}});var j=a(I,1,!0);e(u),e(g),_(()=>{w(u,"color",t(v)),B(j,S().Annotation_Highlights)}),J("click",u,()=>wt(xt("/highlights"))),r(s,g)};L(Se,s=>{G&&s(so)})}var Ce=a(Se,2);{var io=s=>{var g=Va();r(s,g)};L(Ce,s=>{(V||et||R||G)&&s(io)})}var Fe=a(Ce,2);{var lo=s=>{var g=qa(),u=ut(g),I=o(u),j=o(I);qo(j,{get color(){return t(b)}});var zt=a(j,1,!0);e(I),e(u),ho(2),_(()=>{w(I,"color",t(v)),B(zt,S().Menu_Share_App)}),J("click",I,()=>wt(xt("/share"))),r(s,g)};L(Fe,s=>{W&&s(lo)})}var Me=a(Fe,2);{var co=s=>{var g=Qa(),u=o(g),I=o(u);oo(I,{get color(){return t(b)}});var j=a(I,1,!0);e(u),e(g),_(()=>{w(u,"color",t(v)),B(j,S().Menu_Plans)}),J("click",u,()=>wt(xt("/plans"))),r(s,g)};L(Me,s=>{mt&&s(co)})}var Le=a(Me,2);{var vo=s=>{var g=Ea(),u=o(g),I=o(u);Oo(I,{get color(){return t(b)}});var j=a(I,1,!0);e(u),e(g),_(()=>{w(u,"color",t(v)),B(j,S().Menu_Settings)}),J("click",u,()=>wt(xt("/settings"))),r(s,g)};L(Le,s=>{nt&&s(vo)})}var _e=a(Le,2),le=o(_e),Ie=o(le);ro(Ie,{get color(){return t(b)}});var uo=a(Ie,1,!0);e(le),e(_e);var Be=a(_e,4);{var _o=s=>{var g=Vt(),u=ut(g);te(u,1,()=>D,ee,(I,j)=>{var zt=Za(),Rt=o(zt),ve=o(Rt),He=o(ve);{var fo=me=>{var Ne=ja();_(()=>H(Ne,"srcset",U(`${Dt}/icons/menu-items`,t(j).images))),r(me,Ne)};L(He,me=>{t(j).images.length>1&&me(fo)})}var Te=a(He,2);e(ve);var go=a(ve,1,!0);e(Rt),e(zt),_(()=>{H(Rt,"href",t(j).link.default),w(Rt,"color",t(v)),ue(ve,"invert",x()==="Dark"),H(Te,"src",`${Dt??""}/icons/menu-items/${t(j).images[0].file??""}`),H(Te,"alt",t(j).title[p()]||t(j).title[je]),B(go,t(j).title[p()]||t(j).title[je])}),r(I,zt)}),r(s,g)};L(Be,s=>{D&&s(_o)})}var ze=a(Be,2),ce=o(ze),Oe=o(ce);jo(Oe,{get color(){return t(b)}});var mo=a(Oe,1,!0);e(ce),e(ze),e(lt),e(it),e(f),_(()=>{H(f,"dir",E()),ue(f,"dy-drawer-mobile",O()),w(X,"background-color",t(h)),w(lt,"background-color",t(Y)),w(lt,"direction",E()),w(le,"color",t(v)),B(uo,S().Menu_Text_Appearance),w(ce,"color",t(v)),B(mo,S().Menu_About),f.dir=f.dir}),Do($,()=>t(d),s=>z(d,s)),J("click",le,()=>ae.open(Xe)),J("click",ce,()=>wt(xt("/about"))),J("click",it,P),J("keydown",it,P),r(A,f),Lt(),C()}var Ka=m('<input type="range" class="svelte-1uljalr">');function pe(A,c){Mt(c,!1);const[n,C]=It(),l=()=>k(xe,"$direction",n),Q=T();let O=rt(c,"barColor",8),E=rt(c,"progressColor",8),S=rt(c,"value",12),F=rt(c,"min",8),x=rt(c,"max",8);_t(()=>(Ht(S()),Ht(F()),Ht(x())),()=>{z(Q,(S()-F())*100/(x()-F())+"% 100%")}),jt(),Ft();var p=Ka();Je(p);const v=dt(()=>l().toLowerCase()==="ltr"?1:-1);_(()=>{H(p,"min",F()),H(p,"max",x()),w(p,"background-size",t(Q)),w(p,"--progressColor",E()),w(p,"--barColor",O()),w(p,"--scale",t(v))}),ao(p,S),r(A,p),Lt(),C()}var Ua=m('<div class="grid gap-4 items-center range-row m-2 svelte-zuorjs"><!> <!> <div> </div></div>'),Ja=m('<div class="grid gap-4 items-center range-row m-2 svelte-zuorjs"><!> <!> <div> </div></div>'),Ga=m('<div class="grid gap-4 items-center range-row m-2 svelte-zuorjs"><!> <button class="dy-btn-sm col-span-2 rounded"> </button></div>'),Wa=m('<button class="dy-btn-sm"></button>'),Xa=m('<button class="dy-btn-sm"></button>'),tr=m('<button class="dy-btn-sm"></button>'),er=m('<div class="grid gap-2 m-2"><!> <!> <!></div>'),or=m('<div class="grid gap-4"><!> <!> <!> <!></div>');function ar(A,c){Mt(c,!1);const[n,C]=It(),l=()=>k(ne,"$themeColors",n),Q=()=>k(Ge,"$fontChoices",n),O=()=>k(We,"$monoIconColor",n),E=()=>k(Re,"$contentsFontSize",n),S=()=>k($e,"$bodyFontSize",n),F=()=>k(Ze,"$bodyLineHeight",n),x=()=>k(we,"$currentFont",n),p=()=>k(Wt,"$theme",n),v=T(),b=T(),h=T(),Y=T(),K=T(),d=T(),P=T();let M="textAppearanceSelector",D=T();function N(){t(D).showModal()}let i=rt(c,"options",28,()=>({})),y=rt(c,"vertOffset",12,"1rem");const V=Z.mainFeatures["text-font-size-slider"],nt=Yt.length>1,et=f=>{const $=Z.styles.find(X=>X.name==="ui.background").properties["background-color"];return $.startsWith("#")?$:Z.themes.find(X=>X.name===f).colorSets.find(X=>X.type==="main").colors[$]},R=(f,$)=>(f===$?"3px":"1px")+" solid "+(f==="Dark"?"#FFFFFF":"#888888"),G=f=>(f/100).toLocaleString(void 0,{minimumFractionDigits:2});_t(()=>Ht(i()),()=>{var f;z(v,((f=i())==null?void 0:f.contentsMode)??!1)}),_t(()=>Ht(y()),()=>{z(b,"position:absolute; top:"+(Number(y().replace("rem",""))+1)+"rem; inset-inline-end:1rem;")}),_t(()=>l(),()=>{z(h,l().SliderBarColor)}),_t(()=>l(),()=>{z(Y,l().SliderProgressColor)}),_t(()=>(t(v),Q()),()=>{z(K,!t(v)&&Q().length>1)}),_t(()=>(t(v),Z),()=>{z(d,!t(v)&&Z.mainFeatures["text-line-height-slider"])}),_t(()=>(t(d),t(K)),()=>{z(P,V||t(d)||nt||t(K))}),jt(),Ft();var mt=Vt(),W=ut(mt);{var st=f=>{St(ie(f,{id:M,useLabel:!1,get addCSS(){return t(b)},$$slots:{content:($,X)=>{var bt=or(),it=o(bt);{var lt=ot=>{var q=Ua(),tt=o(q);ro(tt,{get color(){return O()}});var at=a(tt,2);{var gt=ct=>{pe(ct,{get barColor(){return t(h)},get progressColor(){return t(Y)},get min(){return Z.mainFeatures["text-size-min"]},get max(){return Z.mainFeatures["text-size-max"]},get value(){return fe(),E()},set value(vt){Nt(Re,vt)},$$legacy:!0})},pt=ct=>{pe(ct,{get barColor(){return t(h)},get progressColor(){return t(Y)},get min(){return Z.mainFeatures["text-size-min"]},get max(){return Z.mainFeatures["text-size-max"]},get value(){return fe(),S()},set value(vt){Nt($e,vt)},$$legacy:!0})};L(at,ct=>{t(v)?ct(gt):ct(pt,!1)})}var yt=a(at,2),qt=o(yt,!0);e(yt),e(q),_(()=>{Ve(yt,`text-md text-${O()??""} place-self-end svelte-zuorjs`),B(qt,t(v)?E():S())}),r(ot,q)};L(it,ot=>{V&&ot(lt)})}var ft=a(it,2);{var Bt=ot=>{var q=Ja(),tt=o(q);Ke.FormatLineSpacing(tt,{get color(){return O()}});var at=a(tt,2);pe(at,{get barColor(){return t(h)},get progressColor(){return t(Y)},min:"100",max:"250",get value(){return fe(),F()},set value(yt){Nt(Ze,yt)},$$legacy:!0});var gt=a(at,2),pt=o(gt,!0);_(()=>B(pt,G(F()))),e(gt),e(q),_(()=>Ve(gt,`text-md text-${O()??""} place-self-end svelte-zuorjs`)),r(ot,q)};L(ft,ot=>{t(d)&&ot(Bt)})}var ht=a(ft,2);{var $t=ot=>{var q=Ga(),tt=o(q);Ke.FontChoice(tt,{get color(){return O()}});var at=a(tt,2);w(at,"border","1px dotted"),w(at,"font-size","large");var gt=o(at,!0);_(()=>B(gt,Z.fonts.find(pt=>pt.family===x()).name)),e(at),e(q),_(()=>{w(at,"font-family",x()),w(at,"color",O())}),J("click",at,()=>ae.open(eo)),r(ot,q)};L(ht,ot=>{t(K)&&ot($t)})}var Ct=a(ht,2);{var Pt=ot=>{var q=er(),tt=o(q);{var at=ct=>{var vt=Wa();const Tt=dt(()=>et("Normal"));_(()=>w(vt,"background-color",t(Tt)));const Qt=dt(()=>R("Normal",p()));_(()=>w(vt,"border",t(Qt))),J("click",vt,()=>Nt(Wt,"Normal")),r(ct,vt)};L(tt,ct=>{Yt.includes("Normal")&&ct(at)})}var gt=a(tt,2);{var pt=ct=>{var vt=Xa();const Tt=dt(()=>et("Sepia"));_(()=>w(vt,"background-color",t(Tt)));const Qt=dt(()=>R("Sepia",p()));_(()=>w(vt,"border",t(Qt))),J("click",vt,()=>Nt(Wt,"Sepia")),r(ct,vt)};L(gt,ct=>{Yt.includes("Sepia")&&ct(pt)})}var yt=a(gt,2);{var qt=ct=>{var vt=tr();const Tt=dt(()=>et("Dark"));_(()=>w(vt,"background-color",t(Tt)));const Qt=dt(()=>R("Dark",p()));_(()=>w(vt,"border",t(Qt))),J("click",vt,()=>Nt(Wt,"Dark")),r(ct,vt)};L(yt,ct=>{Yt.includes("Dark")&&ct(qt)})}e(q),_(()=>{ue(q,"grid-cols-2",Yt.length===2),ue(q,"grid-cols-3",Yt.length===3)}),r(ot,q)};L(Ct,ot=>{nt&&ot(Pt)})}e(bt),r($,bt)}},$$legacy:!0}),$=>z(D,$),()=>t(D))};L(W,f=>{t(P)&&f(st)})}r(A,mt),re(c,"showModal",N);var U=Lt({showModal:N,get options(){return i()},set options(f){i(f),Et()},get vertOffset(){return y()},set vertOffset(f){y(f),Et()}});return C(),U}var rr=m('<div id="container" class="message"><div class="message-body" id="message-body"><div class="message-header"></div> <div class="message-title"> </div> <div class="message-text"> </div></div> <div class="flex w-full justify-between dy-modal-action"><div class="message-buttons"><button class="dy-btn message-button" id="no"> </button> <button class="dy-btn message-button" id="yes"> </button></div></div></div>');function nr(A,c){Mt(c,!1);const[n,C]=It(),l=()=>k(oe,"$t",n),Q=T();let O=rt(c,"planId",12,void 0);const E="planStopDialog";let S=T();function F(){t(S).showModal()}async function x(){await Lo({id:O(),state:"stopped"}),await Qo(O())}function p(){x().then(()=>{wt(xt("/plans"))})}let v=rt(c,"vertOffset",12,"1rem");_t(()=>Ht(v()),()=>{z(Q,"position:absolute; top:"+(Number(v().replace("rem",""))+1)+"rem; inset-inline-end:1rem;")}),jt(),Ft(),St(ie(A,{id:E,useLabel:!1,$$slots:{content:(h,Y)=>{var K=rr(),d=o(K),P=a(o(d),2),M=o(P,!0);e(P);var D=a(P,2),N=o(D,!0);e(D),e(d);var i=a(d,2),y=o(i),V=o(y),nt=o(V,!0);e(V);var et=a(V,2),R=o(et,!0);e(et),e(y),e(i),e(K),_(()=>{B(M,l().Plans_Stop_Plan_Confirm_Title),B(N,l().Plans_Stop_Plan_Confirm_Message),B(nt,l().Button_No),B(R,l().Button_Yes)}),J("click",et,()=>p()),r(h,K)}},$$legacy:!0}),h=>z(S,h),()=>t(S)),re(c,"showModal",F);var b=Lt({showModal:F,get planId(){return O()},set planId(h){O(h),Et()},get vertOffset(){return v()},set vertOffset(h){v(h),Et()}});return C(),b}var sr=m('<link rel="stylesheet">'),ir=m('<!> <link rel="stylesheet">',1),lr=m('<meta name="theme-color"> <link rel="stylesheet"> <!>',1),cr=m("<!> <!>",1),vr=m('<div id="container" style="height:100vh;height:100dvh;"><!></div>'),dr=m("<div><!> <!> <!> <!></div> <!>",1);function Ar(A,c){Mt(c,!1);const[n,C]=It(),l=()=>k(Xt,"$refs",n),Q=()=>k(Ye,"$analytics",n),O=()=>k(ae,"$modal",n),E=()=>k(se,"$s",n),S=()=>k(Wt,"$theme",n),F=()=>k(xe,"$direction",n),x=T(),p=Z.programType=="SAB";p&&!l().initialized&&(zo.setFetch(fetch),Xt.init()),Q().initialized||Ye.init();function v(){O().length>0&&(O().forEach(({modalType:N,data:i})=>{switch(N){case to:t(h).showModal();break;case Bo:de(K,t(K).note=i),t(K).showModal();break;case Xe:de(b,t(b).options=i),t(b).showModal();break;case eo:t(Y).showModal();break;case Io:de(d,t(d).planId=i),t(d).showModal();break}}),ae.clear())}let b=T(),h=T(),Y=T(),K=T(),d=T();_t(()=>l(),()=>{z(x,!p||l().initialized)}),_t(()=>O(),()=>{O(),v()}),jt(),Ft();var P=Vt();$o(N=>{var i=lr(),y=ut(i),V=a(y,2);_(()=>H(V,"href",`${Dt??""}/styles/${Z.programType.toLowerCase()??""}-app.css`));var nt=a(V,2);{var et=R=>{var G=ir(),mt=ut(G);{var W=U=>{var f=sr();_(()=>H(f,"href",`${Dt??""}/styles/sab-bc-${l().collection??""}.css`)),r(U,f)};L(mt,U=>{l().initialized&&U(W)})}var st=a(mt,2);H(st,"href",`${Dt??""}/override-sab.css`),r(R,G)};L(nt,R=>{p&&R(et)})}_(()=>{var R;return H(y,"content",(R=E()["ui.bar.action"])==null?void 0:R["background-color"])}),r(N,i)});var M=ut(P);{var D=N=>{var i=dr(),y=ut(i),V=o(y);{var nt=W=>{var st=cr(),U=ut(st);St(Ia(U,{$$legacy:!0}),$=>z(K,$),()=>t(K));var f=a(U,2);St(ha(f,{vertOffset:ge,$$legacy:!0}),$=>z(h,$),()=>t(h)),r(W,st)};L(V,W=>{p&&W(nt)})}var et=a(V,2);St(ar(et,{vertOffset:ge,$$legacy:!0}),W=>z(b,W),()=>t(b));var R=a(et,2);St(xa(R,{$$legacy:!0}),W=>z(Y,W),()=>t(Y));var G=a(R,2);St(nr(G,{vertOffset:ge,$$legacy:!0}),W=>z(d,W),()=>t(d)),e(y);var mt=a(y,2);Ya(mt,{$$events:{showModal:v},children:(W,st)=>{var U=vr(),f=o(U);Ue(f,c,"default",{}),e(U),_(()=>{H(U,"data-color-theme",S()),w(U,"direction",F())}),r(W,U)},$$slots:{default:!0}}),r(N,i)};L(M,N=>{t(x)&&N(D)})}r(A,P),Lt(),C()}export{Ar as component};
