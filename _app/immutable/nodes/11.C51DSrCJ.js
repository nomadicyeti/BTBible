import{o as Sa,v as Ma,h as R,Z as Ca,j as aa,t as Ea,x as Fa,E as U,F as Va}from"../chunks/B11Zin6s.js";import"../chunks/Bg9kRutz.js";import{i as qa}from"../chunks/BxiFlMN0.js";import{p as za,a7 as P,O as a,a9 as Aa,aa as La,t as c,a as Ra,a8 as C,c as i,r as s,s as g,f as ga,a0 as Z}from"../chunks/D2BM3cv1.js";import{e as I,a as d,t as _,d as ba,s as T}from"../chunks/CRc66pB2.js";import{i as $}from"../chunks/C5aigyhq.js";import{e as ea,i as ta}from"../chunks/BbljCwWF.js";import{b as sa,s as r}from"../chunks/DoWIUU7Y.js";import{s as Ua,a as ia}from"../chunks/BRe-H2Zv.js";import{g as ra,b as la}from"../chunks/CroP3Izp.js";import{B as Za}from"../chunks/B3ruGJNX.js";import{N as Ga}from"../chunks/Qa4b1zFn.js";let oa=null;async function Ha(){return oa||(oa=await Sa("plans",1,{upgrade(D){D.createObjectStore("plans",{keyPath:"id"}).createIndex("id","id")}})),oa}async function Ja(){return await(await Ha()).getAll("plans")}async function Ka({depends:D}){await Ja();const E=[];return D("plans"),{plans:E}}const $e=Object.freeze(Object.defineProperty({__proto__:null,load:Ka},Symbol.toStringTag,{value:"Module"}));var Qa=_('<label for="sidebar"><div class="btn btn-ghost normal-case text-xl"> </div></label>'),Wa=_('<input type="radio" name="my_tabs_1" role="tab">'),Xa=_('<input type="radio" name="my_tabs_1" role="tab">'),Ya=_('<div class="plan-image-block"><img class="plan-image"></div>'),ae=_('<div class="plan-chooser-plan plan-chooser-link"><!> <div class="plan-text-block"><div class="plan-chooser-title"> </div> <div class="plan-chooser-days"> </div></div></div>'),ee=_("<ul></ul>"),te=_('<div class="plan-image-block"><img class="plan-image"></div>'),se=_('<div class="plan-chooser-plan plan-chooser-link"><!> <div class="plan-text-block"><div class="plan-chooser-title"> </div> <div class="plan-chooser-days"> </div></div></div>'),ie=_("<ul></ul>"),re=_('<div class="plan-image-block"><img class="plan-image"></div>'),le=_('<div class="plan-chooser-plan plan-chooser-link"><!> <div class="plan-text-block"><div class="plan-chooser-title"> </div> <div class="plan-chooser-days"> </div></div></div>'),oe=_("<ul></ul>"),ve=_('<div class="grid grid-rows-[auto,1fr]" style="height:100vh;height:100dvh;"><div class="navbar"><!></div> <div class="overflow-y-auto mx-auto max-w-screen-md w-full"><div role="tablist" class="dy-tabs dy-tabs-bordered"><!> <input type="radio" name="my_tabs_1" role="tab"> <!></div> <div id="container" class="plan-chooser"><!></div></div> <!></div>');function xe(D,E){var ma,pa;za(E,!1);const[G,ua]=Ua(),k=()=>ia(Ea,"$t",G),F=()=>ia(Va,"$s",G),H=()=>ia(Fa,"$language",G),J=Ma(R.programVersion,"12.0")<0?"illustrations":"plans";let b=C("available"),va=C([]),V=C([]),da=C([]),na=R.plans.plans||[],w=C([]);const fa=na.map(t=>Ca(t.id).then(e=>{e&&e==="started"&&P(w,[...a(w),t]),e&&e==="completed"&&P(V,[...a(V),t])}).catch(console.error));Promise.all(fa).then(()=>{a(w).length>0&&P(b,"in-use")});const ha=((ma=R)==null?void 0:ma.bottomNavBarItems)&&((pa=R)==null?void 0:pa.bottomNavBarItems.length)>0,ya="plans";Aa(()=>a(w),()=>{P(va,na.filter(t=>!a(w).some(e=>e.id===t.id))),P(da,a(w))}),La(),qa();var K=ve(),Q=i(K),$a=i(Q);Ga($a,{center:e=>{var m=Qa(),v=i(m),u=i(v,!0);s(v),s(m),c(()=>T(u,k().Menu_Plans)),d(e,m)},$$slots:{center:!0}}),s(Q);var W=g(Q,2),q=i(W);const xa=Z(()=>U(F()["ui.plans.tabs"]));var ca=i(q);{var Pa=t=>{var e=Wa();const m=Z(()=>U(F()["ui.plans.tabs.text"]));c(()=>{sa(e,`dy-tab dy-tab-bordered ${(a(b)==="in-use"?"dy-tab-active":"")??""}`),r(e,"aria-label",k().Plans_Tab_My_Plans),r(e,"style",a(m))}),I("click",e,()=>P(b,"in-use")),d(t,e)};$(ca,t=>{a(w).length>0&&t(Pa)})}var O=g(ca,2);const ka=Z(()=>U(F()["ui.plans.tabs.text"]));var wa=g(O,2);{var Na=t=>{var e=Xa();const m=Z(()=>U(F()["ui.plans.tabs.text"]));c(()=>{sa(e,`dy-tab dy-tab-bordered ${(a(b)==="completed"?"dy-tab-active":"")??""}`),r(e,"aria-label",k().Plans_Tab_Completed_Plans),r(e,"style",a(m))}),I("click",e,()=>P(b,"completed")),d(t,e)};$(wa,t=>{a(V).length>0&&t(Na)})}s(q);var _a=g(q,2),Ba=i(_a);{var Ta=t=>{var e=ee();ea(e,5,()=>a(va),ta,(m,v)=>{var u=ae(),f=i(u);{var x=l=>{var n=Ya(),y=i(n);s(n),c(()=>{r(y,"src",`${la??""}/${J??""}/${a(v).image.file??""}`),r(y,"alt",a(v).image.file),r(y,"width",a(v).image.width),r(y,"height",a(v).image.height)}),d(l,n)};$(f,l=>{a(v).image&&l(x)})}var j=g(f,2),o=i(j),p=i(o,!0);s(o);var h=g(o,2),S=i(h,!0);c(()=>T(S,k().Plans_Number_Days.replace("%d",a(v).days))),s(h),s(j),s(u),c(()=>{r(u,"id",a(v).id),T(p,a(v).title[H()]??a(v).title.default??"")}),I("click",u,()=>ra(aa(`/plans/${a(v).id}`))),d(m,u)}),s(e),d(t,e)},Da=t=>{var e=ba(),m=ga(e);{var v=f=>{var x=ie();ea(x,5,()=>a(da),ta,(j,o)=>{var p=se(),h=i(p);{var S=N=>{var M=te(),B=i(M);s(M),c(()=>{r(B,"src",`${la??""}/${J??""}/${a(o).image.file??""}`),r(B,"alt",a(o).image.file),r(B,"width",a(o).image.width),r(B,"height",a(o).image.height)}),d(N,M)};$(h,N=>{a(o).image&&N(S)})}var l=g(h,2),n=i(l),y=i(n,!0);s(n);var z=g(n,2),A=i(z,!0);c(()=>T(A,k().Plans_Number_Days.replace("%d",a(o).days))),s(z),s(l),s(p),c(()=>{r(p,"id",a(o).id),T(y,a(o).title[H()]??a(o).title.default??"")}),I("click",p,()=>ra(aa(`/plans/${a(o).id}`))),d(j,p)}),s(x),d(f,x)},u=f=>{var x=ba(),j=ga(x);{var o=p=>{var h=oe();ea(h,5,()=>a(V),ta,(S,l)=>{var n=le(),y=i(n);{var z=X=>{var Y=re(),L=i(Y);s(Y),c(()=>{r(L,"src",`${la??""}/${J??""}/${a(l).image.file??""}`),r(L,"alt",a(l).image.file),r(L,"width",a(l).image.width),r(L,"height",a(l).image.height)}),d(X,Y)};$(y,X=>{a(l).image&&X(z)})}var A=g(y,2),N=i(A),M=i(N,!0);s(N);var B=g(N,2),Oa=i(B,!0);c(()=>T(Oa,k().Plans_Number_Days.replace("%d",a(l).days))),s(B),s(A),s(n),c(()=>{r(n,"id",a(l).id),T(M,a(l).title[H()]??a(l).title.default??"")}),I("click",n,()=>ra(aa(`/plans/${a(l).id}`))),d(S,n)}),s(h),d(p,h)};$(j,p=>{a(b)==="completed"&&p(o)},!0)}d(f,x)};$(m,f=>{a(b)==="in-use"?f(v):f(u,!1)},!0)}d(t,e)};$(Ba,t=>{a(b)==="available"?t(Ta):t(Da,!1)})}s(_a),s(W);var ja=g(W,2);{var Ia=t=>{Za(t,{barType:ya})};$(ja,t=>{ha&&t(Ia)})}s(K),c(()=>{r(q,"style",a(xa)),sa(O,`dy-tab ${(a(b)==="available"?"dy-tab-active":"")??""}`),r(O,"aria-label",k().Plans_Tab_Choose_Plan),r(O,"style",a(ka))}),I("click",O,()=>P(b,"available")),d(D,K),Ra(),ua()}export{xe as component,$e as universal};
